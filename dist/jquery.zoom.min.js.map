{"version":3,"sources":["jquery.zoom.js"],"names":["root","factory","define","amd","exports","module","require","$","zoom","jQuery","this","defaults","url","callback","target","duration","on","touch","onZoomIn","onZoomOut","magnify","source","img","targetHeight","targetWidth","sourceHeight","sourceWidth","xRatio","yRatio","offset","$target","position","css","$source","test","style","width","height","addClass","top","left","opacity","border","maxWidth","maxHeight","appendTo","init","outerWidth","outerHeight","move","e","pageX","pageY","Math","max","min","fn","options","each","$urlElement","settings","extend","document","createElement","$img","mousemove","clicked","touched","find","data","attr","overflow","one","off","remove","onload","start","stop","fadeTo","support","isFunction","call","which","preventDefault","originalEvent","touches","changedTouches","src"],"mappings":"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","file":"jquery.zoom.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('jquery'));\n  } else {\n    root.$.zoom = factory(root.jQuery);\n  }\n}(this, function($) {\n/*!\n  Zoom\n  @version 1.7.16\n  @license MIT\n  @homepage http://www.jacklmoore.com/zoom\n*/\nvar defaults = {\n  url: false,\n  callback: false,\n  target: false,\n  duration: 120,\n  on: 'mouseover', // other options: grab, click, toggle\n  touch: true, // enables a touch fallback\n  onZoomIn: false,\n  onZoomOut: false,\n  magnify: 1\n};\n\n// Core Zoom Logic, independent of event listeners.\n$.zoom = function(target, source, img, magnify) {\n  var targetHeight,\n    targetWidth,\n    sourceHeight,\n    sourceWidth,\n    xRatio,\n    yRatio,\n    offset,\n    $target = $(target),\n    position = $target.css('position'),\n    $source = $(source);\n\n  // The parent element needs positioning so that the zoomed element can be correctly positioned within.\n  $target.css('position', /(absolute|fixed)/.test(position) ? position : 'relative');\n  $target.css('overflow', 'hidden');\n\n  img.style.width = img.style.height = '';\n\n  $(img)\n    .addClass('zoomImg')\n    .css({\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      opacity: 0,\n      width: img.width * magnify,\n      height: img.height * magnify,\n      border: 'none',\n      maxWidth: 'none',\n      maxHeight: 'none'\n    })\n    .appendTo(target);\n\n  return {\n    init: function() {\n      targetWidth = $target.outerWidth();\n      targetHeight = $target.outerHeight();\n\n      if (source === $target[0]) {\n        sourceWidth = targetWidth;\n        sourceHeight = targetHeight;\n      } else {\n        sourceWidth = $source.outerWidth();\n        sourceHeight = $source.outerHeight();\n      }\n\n      xRatio = (img.width - targetWidth) / sourceWidth;\n      yRatio = (img.height - targetHeight) / sourceHeight;\n\n      offset = $source.offset();\n    },\n    move: function (e) {\n      var left = (e.pageX - offset.left),\n        top = (e.pageY - offset.top);\n\n      top = Math.max(Math.min(top, sourceHeight), 0);\n      left = Math.max(Math.min(left, sourceWidth), 0);\n\n      img.style.left = (left * -xRatio) + 'px';\n      img.style.top = (top * -yRatio) + 'px';\n    }\n  };\n};\n\n$.fn.zoom = function (options) {\n  return this.each(function () {\n    var settings = $.extend({}, defaults, options || {}),\n      //target will display the zoomed image\n      target = settings.target || this,\n      //source will provide zoom location info (thumbnail)\n      source = this,\n      $source = $(source),\n      $target = $(target),\n      img = document.createElement('img'),\n      $img = $(img),\n      mousemove = 'mousemove.zoom',\n      clicked = false,\n      touched = false,\n      $urlElement;\n\n    // If a url wasn't specified, look for an image element.\n    if (!settings.url) {\n      $urlElement = $source.find('img');\n      if ($urlElement[0]) {\n        settings.url = $urlElement.data('src') || $urlElement.attr('src');\n      }\n      if (!settings.url) {\n        return;\n      }\n    }\n\n    (function(){\n      var position = $target.css('position');\n      var overflow = $target.css('overflow');\n\n      $source.one('zoom.destroy', function(){\n        $source.off('.zoom');\n        $target.css('position', position);\n        $target.css('overflow', overflow);\n        $img.remove();\n      });\n\n    }());\n\n    img.onload = function () {\n      var zoom = $.zoom(target, source, img, settings.magnify);\n\n      function start(e) {\n        zoom.init();\n        zoom.move(e);\n\n        // Skip the fade-in for IE8 and lower since it chokes on fading-in\n        // and changing position based on mousemovement at the same time.\n        $img.stop()\n        .fadeTo($.support.opacity ? settings.duration : 0, 1, $.isFunction(settings.onZoomIn) ? settings.onZoomIn.call(img) : false);\n      }\n\n      function stop() {\n        $img.stop()\n        .fadeTo(settings.duration, 0, $.isFunction(settings.onZoomOut) ? settings.onZoomOut.call(img) : false);\n      }\n\n      // Mouse events\n      if (settings.on === 'grab') {\n        $source\n          .on('mousedown.zoom',\n            function (e) {\n              if (e.which === 1) {\n                $(document).one('mouseup.zoom',\n                  function () {\n                    stop();\n\n                    $(document).off(mousemove, zoom.move);\n                  }\n                );\n\n                start(e);\n\n                $(document).on(mousemove, zoom.move);\n\n                e.preventDefault();\n              }\n            }\n          );\n      } else if (settings.on === 'click') {\n        $source.on('click.zoom',\n          function (e) {\n            if (clicked) {\n              // bubble the event up to the document to trigger the unbind.\n              return;\n            } else {\n              clicked = true;\n              start(e);\n              $(document).on(mousemove, zoom.move);\n              $(document).one('click.zoom',\n                function () {\n                  stop();\n                  clicked = false;\n                  $(document).off(mousemove, zoom.move);\n                }\n              );\n              return false;\n            }\n          }\n        );\n      } else if (settings.on === 'toggle') {\n        $source.on('click.zoom',\n          function (e) {\n            if (clicked) {\n              stop();\n            } else {\n              start(e);\n            }\n            clicked = !clicked;\n          }\n        );\n      } else if (settings.on === 'mouseover') {\n        zoom.init(); // Preemptively call init because IE7 will fire the mousemove handler before the hover handler.\n\n        $source\n          .on('mouseenter.zoom', start)\n          .on('mouseleave.zoom', stop)\n          .on(mousemove, zoom.move);\n      }\n\n      // Touch fallback\n      if (settings.touch) {\n        $source\n          .on('touchstart.zoom', function (e) {\n            e.preventDefault();\n            if (touched) {\n              touched = false;\n              stop();\n            } else {\n              touched = true;\n              start( e.originalEvent.touches[0] || e.originalEvent.changedTouches[0] );\n            }\n          })\n          .on('touchmove.zoom', function (e) {\n            e.preventDefault();\n            zoom.move( e.originalEvent.touches[0] || e.originalEvent.changedTouches[0] );\n          })\n          .on('touchend.zoom', function (e) {\n            e.preventDefault();\n            if (touched) {\n              touched = false;\n              stop();\n            }\n          });\n      }\n\n      if ($.isFunction(settings.callback)) {\n        settings.callback.call(img);\n      }\n    };\n\n    img.src = settings.url;\n  });\n};\n\n$.fn.zoom.defaults = defaults;\n\nreturn $.zoom;\n}));\n"]}